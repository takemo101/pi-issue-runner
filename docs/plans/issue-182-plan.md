# 実装計画書: Issue #182

## 概要

GitHub Issue本文に含まれる危険なパターン（コマンド置換、変数展開など）をサニタイズするセキュリティ機能のドキュメントを作成します。

## 影響範囲

- **新規作成**: `docs/security.md` - セキュリティ機能のドキュメント
- **更新**: `README.md` - ドキュメント一覧にセキュリティドキュメントへのリンクを追加

## 現在の実装分析

`lib/github.sh` に以下のセキュリティ機能が実装済み：

### 1. `detect_dangerous_patterns()` 関数
危険なパターンを検出する関数：
- コマンド置換 `$(...)` 
- バッククォート `` `...` ``
- 変数展開 `${...}`

### 2. `sanitize_issue_body()` 関数
危険なパターンをエスケープする関数：
- `$(` → `\$(`
- `` ` `` → `` \` ``
- `${` → `\${`

## 実装ステップ

1. **docs/security.md 作成**
   - セキュリティ概要
   - プロンプトインジェクション対策の説明
   - 検出される危険なパターンの一覧
   - サニタイズの動作説明
   - 使用例

2. **README.md 更新**
   - ドキュメントセクションに `docs/security.md` へのリンク追加

## テスト方針

- ドキュメントのMarkdown形式が正しいことを確認
- リンクが正しく機能することを確認
- 既存テストが引き続きパスすることを確認

## リスクと対策

| リスク | 対策 |
|--------|------|
| ドキュメントの情報が実装と不一致 | 実際の実装コードを参照してドキュメント作成 |
| リンク切れ | 相対パスを使用し、ファイル構成を確認 |

## 受け入れ条件

- [x] セキュリティ機能のドキュメントが追加された
- [x] サニタイズされるパターンが明記された
- [x] ユーザーがセキュリティ対策を認識できるようになった
