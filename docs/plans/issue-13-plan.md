# Issue #13 実装計画

## 概要

pi コマンドの引数フォーマットを修正し、正しい形式で引数を渡すようにします。

### 問題
```bash
# 誤った形式（修正前）
pi "42 --auto"
# これは "42 --auto" を単一の引数として渡してしまう
```

### 解決策
```bash
# 正しい形式（修正後）
pi --auto "42"
# --auto は別々のフラグとして、issue番号はプロンプト引数として渡される
```

## 影響範囲

- `test/run_test.sh` - 新規作成: コマンド形式の検証テスト
- `scripts/run.sh` - 必要に応じてコマンド構築ロジックの修正確認

## 実装ステップ

1. **テストファイルの作成**
   - `test/run_test.sh` を新規作成
   - エージェントコマンド構築のテストケースを追加
   - 引数が正しく分離されていることを検証

2. **テスト実行**
   - 作成したテストがパスすることを確認
   - 既存のテストもパスすることを確認

3. **コミット**
   - 変更をコミット

## テスト方針

- コマンドテンプレートの変数置換が正しく行われること
- 引数（args）が適切に分離されること
- プロンプトファイルパスが正しく引用符で囲まれること

## リスクと対策

- **リスク**: 既存の機能に影響を与える可能性
- **対策**: 既存のBatsテストを実行して回帰がないことを確認

## 完了条件

- [ ] `test/run_test.sh` が作成される
- [ ] テストが正常に実行される
- [ ] 既存のテストもパスすること
