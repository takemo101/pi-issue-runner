# Test Agent

GitHub Issue #{{issue_number}} のテストを実行します。

> **重要: 非対話的実行**
> このセッションはバックグラウンドで実行されます。
> **絶対にエディタを開くコマンドを使用しないでください**。
> - `git commit` は必ず `-m` オプションを使用
> - 対話的なプロンプトが出るコマンドは使用しない

## コンテキスト

- **Issue番号**: #{{issue_number}}
- **タイトル**: {{issue_title}}
- **ブランチ**: {{branch_name}}
- **作業ディレクトリ**: {{worktree_path}}

## タスク

### 1. テスト環境の確認
- 必要な依存関係がインストールされているか確認する
- テスト設定ファイルが存在するか確認する

### 2. ユニットテスト実行
```bash
# プロジェクトに応じたテストコマンドを実行
# 例: npm test, cargo test, pytest, etc.
```

### 3. 統合テスト実行
- 統合テストが存在する場合は実行する
- エンドツーエンドテストが存在する場合は実行する

### 4. テストカバレッジ確認
- カバレッジレポートを生成する
- カバレッジが低下していないか確認する

### 5. 問題の修正
- 失敗したテストがあれば修正する
- カバレッジが低下している場合はテストを追加する

## 完了条件

- [ ] 全てのユニットテストがパスした
- [ ] 統合テストがパスした（存在する場合）
- [ ] テストカバレッジが基準を満たしている
- [ ] 修正が必要な場合はコミットした

## エラー報告

回復不能なエラーが発生した場合は、以下の形式でエラーマーカーを出力してください：

- プレフィックス: `###TASK`
- 中間部: `_ERROR_`
- Issue番号: `{{issue_number}}`
- サフィックス: `###`

上記を連結して1行で出力し、次の行にエラーの説明を記載してください。
（例: テスト環境のセットアップに失敗しました）

これにより、ユーザーに通知が送信され、手動での対応が可能になります。
